#!/bin/dash

# /usr/bin/system_settings: a central settings panel
# dependencies: dash, gtkdialog, desksetup, ncdu, netsurf, rxvt-unicode and
#               system_cleaner

# include the distribution information file
. /etc/distrorc

# the title
TITLE="System Configuration"

echo -n "
<window icon-name=\"gtk-preferences\" title=\"$TITLE\">
	<vbox>
		<notebook labels=\"Desktop|System\">

			<vbox>
				<hbox>
					<text>
						<label>Desktop environment and startup applications</label>
					</text>
					<button>
						<input file icon=\"gtk-preferences\"></input>
						<action>urxvt -title \"Desktop Configuration\" -e desksetup &</action>
					</button>
				</hbox>
				<hbox>
					<text>
						<label>Clean configuration and cache directories</label>
					</text>
					<button>
						<input file icon=\"gtk-clear\"></input>
						<action>urxvt -title \"System Cleaner\" -e system_cleaner &</action>
					</button>
				</hbox>
			</vbox>

			<vbox>
				<hbox>
					<text>
						<label>Analyze writeable layer free space</label>
					</text>
					<button>
						<input file icon=\"gtk-floppy\"></input>
						<action>urxvt -title ncdu -e "ncdu /mnt/save" &</action>
					</button>
				</hbox>
			</vbox>
		</notebook>
		<hbox>
			<button ok></button>
		</hbox>
	</vbox>
</window>" | gtkdialog -s
